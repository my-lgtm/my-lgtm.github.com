webpackJsonp([1],{172:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(175),a=s.n(r);for(var i in r)"default"!==i&&function(e){s.d(t,e,function(){return r[e]})}(i);var n=s(180),u=s(38),o=Object(u.a)(a.a,n.a,n.b,!1,null,null,null);t.default=o.exports},175:function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=s(179),i=r(a),n=s(73),u=r(n);t.default={name:"PostPage",components:{BaseButton:u.default},mixins:[i.default],computed:{},data:function(){return{url:""}},created:function(){},methods:{post:function(){this.errors.has("url")||(""==this.url?this.$snackbar.open({type:"is-danger",message:"Wrong URL!",duration:1500}):this.postImage(this.url))}}}},179:function(e,t,s){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=s(18),i=r(a),n=s(19),u=r(n),o=s(72),c=r(o),l=s(20),d=s(21);t.default={computed:(0,c.default)({},(0,l.mapState)("Auth",["token"])),methods:(0,c.default)({},(0,l.mapMutations)(["updateLoading"]),{requestStart:function(){this.errorMessage="",this.updateLoading(!0)},postImage:function(){function e(e){return t.apply(this,arguments)}var t=(0,u.default)(i.default.mark(function e(t){var s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.requestStart(),e.next=4,d.Xhr.postWithToken(d.URL.FETCH_IMAGE,{url:t},this.token);case 4:s=e.sent,this.success(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.error(e.t0);case 11:return e.prev=11,this.requestEnd(),e.finish(11);case 14:case"end":return e.stop()}},e,this,[[0,8,11,14]])}));return e}(),success:function(e){this.$snackbar.open({type:"is-success",message:"Posted!",duration:1500})},error:function(e){switch(e.response.status){case 401:this.errorMessage="Required (re)authentication";break;case 403:this.errorMessage="API rate limit exceeded";break;default:this.errorMessage=e.response.data.errorMessage}this.$snackbar.open({type:"is-success",message:"Failed!",duration:1500})},requestEnd:function(){this.updateLoading(!1),this.url=""}})}},180:function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"b",function(){return a});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"section"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-three-fifths is-offset-one-fifth"},[s("b-field",{attrs:{type:e.errors.has("url")?"is-danger":""}},[s("b-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|url",expression:"'required|url'"}],attrs:{name:"url",type:"text",placeholder:"image url"},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})],1)],1)]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-three-fifths is-offset-one-fifth"},[s("div",{staticClass:"field"},[s("div",{staticClass:"control"},[s("base-button",{attrs:{disabled:e.errors.has("url")},on:{onClick:e.post}},[e._v("Submit")])],1)])])]),s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-three-fifths is-offset-one-fifth"},[s("figure",{staticClass:"image"},[s("img",{attrs:{src:e.url}})])])])])},a=[]}});